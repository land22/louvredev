{% extends "LWLouvreBundle::layout.html.twig" %}
{%block into %}
{% for message in app.flashes('notice') %}
     <div class="alert alert-danger" style="margin-top:1.5%;"><strong>
        {{ message }}
    </strong></div>
{% endfor %}
 <div class="alert alert-info information">
  Nous vous précisons pour des raisons de gestion qu’il n’est pas possible de réserver pour <strong>les jours passés (!) , les dimanches, les jours fériés (les 1er mai, 1er novembre et 25 decembre) et les jours où plus de 1000 billets ont été vendus en tout pour ne pas dépasser la capacité du musée.</strong>. Merci pour votre bonne comprehension !!! 
</div>
{%endblock%}
{%block container%}    
	 
   
<div class="form">
	
			{{ form_start(form, {'attr': {'class': 'form-inline'}}) }} 
			{# Les erreurs générales du formulaire. #} 
			{{ form_errors(form) }}
	
			<div id="form_louvre">
				<div class="form-group">
			    	<label for="nbBillets">Choisissez un mombre de billets</label>
			    	<input type="number" class="form-control nbr_billet" id="nbBillets" aria-describedby="Saisir le nombre de billets" min="1" max="1000" placeholder="Saisir le nombre de billets" name ="nbr_billet" required>			    	
			  	</div>
				<div class="form-group">
					{{ form_label(form.visiteDate, "Date de votre visite", {'label_attr': {'class': 'datevisitlabel'}}) }} 
				    {{ form_errors(form.visiteDate) }}
					{{ form_widget(form.visiteDate) }}
				</div>
				<div class="form-group">
					{{ form_label(form.typeOrder, "Type de journée", {'label_attr': {'class': 'typelabel'}}) }}
					{{ form_errors(form.typeOrder) }}
					{{ form_widget(form.typeOrder, {'attr':	{'class': 'type_journee form-control','id':'type_journee'}}) }}
				</div>
				<div class="form-group" style="display: none;">
					{{ form_label(form.email, "Votre adresse email", {'label_attr': {'class': 'emaillabel'}}) }} 
					{{ form_errors(form.email) }}
					{{ form_widget(form.email, {'attr':{'class': 'form-control'}}) }}
				</div>
                                <br />
                                <br />
				<button id="add_billet" class="btn btn-default">Passer à l'étape suivante</button>
				<div id="billets" style = "display:none;">
					
				</div>
				<br />
				<div class="col-sm-12" style = "display:none;" id = "bloc_save">
					{# Pour le bouton, pas de label ni d'erreur, on affiche juste le widget #}
					{{ form_widget(form.Continuer, {'attr': {'class': 'step1 btn btn-primary'}}) }} 
		       </div>
			</div>
			
			
		
		</div>
		<br>
				
		
		<br>
		<br> {# Génération automatique des champs pas encore écrits. Dans cet exemple, ce serait le champ CSRF (géré automatiquement par Symfony !) et tous les champs cachés (type « hidden »). #} 
		{{ form_rest(form) }}
		
		{# Fermeture de la balise <form>du formulaire HTML #}		
		{{ form_end(form) }}
</div>

<div class="alert tarification">
 <h3>Tarifications</h3>
   <ul class="list-group">
  <li class="list-group-item">Un tarif « normal » à partir de 12 ans<span class="badge">16€</span></li>
  <li class="list-group-item">Un tarif « enfant » à partir de 4 ans et jusqu’à 12 ans(l’entrée est gratuite pour les enfants de moins de 4 ans) <span class="badge">8€</span></li>
  <li class="list-group-item">Un tarif « senior » à partir de 60 ans <span class="badge">12€</span></li>
  <li class="list-group-item">Un tarif « réduit » accordé dans certaines conditions (étudiant, employé du musée, d’un service du Ministère de la Culture, militaire…) <span class="badge">10€</span></li>
</ul> 
</div>
{%endblock%}
{%block javascript%}
    {{ parent() }}
    <script src="{{ asset('assets/js/datePicker.js')}}"></script>
     <script src="{{ asset('assets/js/checkDate.js')}}"></script>
    <script>
        var date = new Date();
        $('.datepicker').datepicker({
          format: 'yyyy-mm-dd',
          default: 'yyyy-mm-dd',
          startDate: '-3d',
          startDate: date,
          local: "fr", 
          datesDisabled: ["yyyy-mm-d+1", "yyyy-12-25"],
          daysOfWeekDisabled: "2,0"
        });
    </script>

    {%endblock%}